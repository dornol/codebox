<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<p id="memory">Loading memory usage...</p>

<div>
    <a href="/download-excel" target="_blank">
        <button>Download Excel</button>
    </a>
</div>

<div>
    <a href="/download-csv" target="_blank">
        <button>Download CSV</button>
    </a>
</div>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        let memoryElement = document.getElementById('memory');
        setInterval(() => {
            fetch('/memory')
                .then(async (response) => {
                    if (response.ok) {
                        memoryElement.innerText = await response.text();
                    } else {
                        memoryElement.innerText = 'Failed to retrieve memory usage.';
                    }
                })
                .catch(err => {
                    memoryElement.innerText = 'Error retrieving memory usage.';
                    console.error(err);
                })
        }, 300)
    })
</script>

</body>
</html>